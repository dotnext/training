<!DOCTYPE html>
<html>
  <head>
    <title>Kubernetes</title>
    <meta charset="utf-8">
    <style>
      @import url(https://fonts.googleapis.com/css?family=Yanone+Kaffeesatz);
      @import url(https://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic);
      @import url(https://fonts.googleapis.com/css?family=Ubuntu+Mono:400,700,400italic);
      body { font-family: 'Droid Serif'; }
      h1, h2, h3 {
        font-family: 'Yanone Kaffeesatz';
        font-weight: normal;
      }
      .remark-code, .remark-inline-code { font-family: 'Ubuntu Mono'; }
    </style>
        <link rel="stylesheet" type="text/css" href="../css/default.css">
  </head>
  <body>
    <textarea id="source">
      # Kubernetes and Related Services

      ---

      #What's a Container Orchestrator?

      Container runtimes (runC, rkt ContainerD) are good at running containers on a single host. In a production environment you would probaly like to manage multiple hosts in order to create a scalable and highly available infrastructure. This can be attained by creating a central management unit. This unit is called *Container Orchestrator*.
      
      ---
      # Containers in production Needs
      Some examples are
      * resiliency/fault tolerance
      * Can scale
      * Optimize resource usage
      * Service discovery functionalities accross applications
      * Make workloads/containers accessible from the outside
      * Manage applications updates
      
      ---
      
      #Container orchestrators Examples
      
      * Kubernetes
      * Mesos Marathon
      * Docker Swarm
      * Hashicorp Nomad
      * Amazon ECS
      * Google GKE
       
      ---
      
      # Container Orchestrator Functions
      
      * Start containers on different hosts
      * Connect containers living on different hosts
      * Build services/high level constructs by gfrouping together containers and other elements (secrets, persistency etc)
      * Manage multiple hosts
      * Optimize and monitor the usage of resources accross hosts
            
      ---


      # Kubernetes 101

      "Kubernetes is an open-source system for automating deployment, scaling, and management of containerized applications."
      
      Also known asd K8S (there are 8 letters between K and S... engineers :P )
      
      Kubernetes is part of the Cloud Native Computing Foundation (CNCF) along with other notable projects like rkt, containerd, Prometheus, Linkerd, CNI and MORE.
      ---


      ## Who's using Kubernetes?
 
      * Box
      * eBay
      * Pearson
      * SAP
      * Wikimedia
      * Github
      * And many more

      ---

      ## Kubernetes Architecture

      * Master Nodes
      * Worker Nodes
      * Distributed key value store (etcd)

      ---
      
      ## Kubernetes Installation
      Kubernetes can be installed on:
      * Virtual machines
      * Bare Metal
      It can be installed on different OSes like for example CoreOS, RHEL, SUSE, Ubuntu etc
      
      ---
      
      ## Consuming Kubernetes 
      
      * Install on premises
      * Consume a Cloud provider offering based on K8s (GKE/Azure Container Services/Platform9)
      * Install it in a Cloud Provider infrastructure (GCP, Azure, AWS) manually or with specific tools
      
      ---

      # Kubernetes Installation Tools
      
      Some examples are:
      * kubeadm
      * Kubespray
      * BOSH (see Kubo/Cloud Foundry container runtime)
      * Kops
      
      Or you can install it from scratch following Kelsey Hightwower's "Kubernetes the hard way" book/github repo
      
      ---
      # Kubernetes Architectural Components
      ---
      # Kubernetes Components Overview
      
      ![inline](../images/K8SOverview.png)
      
      credits to Platform9 for this image
      
      ---
      # Master Node


      * API Server
      * Scheduler
      * Controller Manager
      * etcd (optional can be external)
     
      ---
      
      # Worker Node
      Runs the applications using Pods and is controlled by the Master Node
      * Container runtime
      * kubelet
      * kube-proxy
      
      ---
      
      # etcd
      
      Key value store that serves as a datastore for the cluster state
      Also used to store configuration details such as subnets, Secrets, etc. 
      
      ---
      # Minikube
      
      ![inline](../images/minikube-logo.jpg)
      
      Easiest way to experiment with a local K8S instance
      
      ---
      # Kubernetes based Distributions
      -> Work in Progress
      
      * OpenShift
      * Cloud Foundry Elastic Runtime
      * Pivotal Container services (PKS)
      
      ---
      
      # Demo


      ---
      # Kubernetes Hello world
      
      Type this command to test taht your Kubernetes setup is working:
      
      kubectl run hi --quiet --rm --attach --restart=Never --image=alpine  -- sh -c 'sleep 3; echo "Hello from Kubernetes!"'
      
      You should get something like this
      
      ![inline](../images/HelloWorld.png)
      
      ---

      # Pushing an Application to Kubernetes



      ---
      # Useful repository for kubectl commands
      
      [Click HERE](https://kubernetes.io/docs/reference/kubectl/cheatsheet/ "Cheatsheet")
      
      https://kubernetes.io/docs/reference/kubectl/cheatsheet/
      ---


      # Now you!

      ```
      git clone 
      cd hello-python
      TBD

      ```


    </textarea>
    <script src="https://gnab.github.io/remark/downloads/remark-latest.min.js">
    </script>
    <script>
    remark.macros.scale = function (percentage) {
      var url = this;
      return '<img src="' + url + '" style="width: ' + percentage + '" />';
    };
      var slideshow = remark.create();
    </script>
  </body>
</html>

